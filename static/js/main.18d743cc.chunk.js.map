{"version":3,"sources":["Phylo/newick.js","Phylo/jsonToNewick.js","img/export.svg","Phylo/Tree.js","img/search.svg","img/icon.svg","img/noBranch.svg","img/horizontalIn.svg","img/plus.svg","img/minus.svg","img/branchLength.svg","img/hidden.svg","img/arrows.svg","img/arrow2.svg","img/cricle.svg","Phylo/AppTree.js","App.js","reportWebVitals.js","index.js"],"names":["parse","s","id","ancestors","tree","tokens","split","i","length","token","subtree","branchset","push","pop","x","name","color","parseFloat","error","alert","jsonToNewick","json","nested","nest","hasOwnProperty","forEach","child","subsubtree","substring","join","leaf","CountLeafNodes","map","reduce","a","b","maxLength","d","data","children","d3","setBrLength","y0","k","radius","Math","max","Tree","props","setTree","clickName","getConfig","showBranchLength","layout","Horizontal","circularNumber","swap","selectNode","showBranchLengthNumber","ref","useRef","selectedColor","leafNodes","outerRadius","innerRadius","svgHeight","svgWidth","height","width","prune","array","label","obj","splice","swapNodeChid","shift","swapNodeChidUpdate","target","__data__","update","removeNode","cluster","size","separation","root","sum","sort","value","current","innerHTML","svg","attr","append","selectAll","links","on","this","style","source","linkStep","y","sx","sy","tx","ty","c0","cos","PI","s0","sin","c1","s1","mouseovered","active","classed","filter","enter","descendants","text","String","replace","console","log","leaves","treeheight","storechFn","leafdata","prepareConfig","useEffect","ComponentToPrint","React","forwardRef","ref2","display","flexDirection","marginTop","marginLeft","dangerouslySetInnerHTML","__html","componentRef","interactive","content","curent","onChangeComplete","hex","document","getElementsByClassName","backgroundColor","setSelectedColor","className","position","top","outline","left","onClick","params","title","data-toggle","data-target","exportComponentAsJPEG","exportComponentAsPNG","class","role","type","data-dismiss","defaultProps","getChildLoc","ChangebranchLengthID","data2","AppTree","fileReader","useState","setValue","inputData","setInputData","horizontal","setHorizontal","setSwap","setShowBranchLengthNumber","parseNewick","setLayout","setCircularNumber","fname","search","txt","querySelectorAll","textContent","includes","fill","fontWeight","selectedFile","handleFileRead","e","result","accept","onChange","file","files","FileReader","onloadend","readAsText","src","treeShowBranchlengthIcon","alt","noBranchIcon","remove","hiddenLeaves","hiddenLeaveIcon","horizontalOutIcon","horizontalInIcon","swapIcon","cricleIcon","treeIcon","plusIcon","minusIcon","placeholder","onKeyPress","event","key","imgIcon","leafloc","rows","createTree","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"kPACe,SAASA,EAAMC,GAC5B,IAKE,IAJA,IAAIC,EAAG,EACDC,EAAY,GACdC,EAAO,GACLC,EAASJ,EAAEK,MAAM,uBACdC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAAK,CACtC,IAAME,EAAQJ,EAAOE,GACfG,EAAU,GAChB,OAAQD,GACN,IAAK,IACHL,EAAKO,UAAY,CAACD,GAClBP,EAAUS,KAAKR,GACfA,EAAOM,EACP,MACF,IAAK,IACHP,EAAUA,EAAUK,OAAS,GAAGG,UAAUC,KAAKF,GAC/CN,EAAOM,EACP,MACF,IAAK,IACHN,EAAOD,EAAUU,MAEjB,MACF,IAAK,IACH,MACF,QACE,IAAMC,EAAIT,EAAOE,EAAI,GACX,MAANO,GAAmB,MAANA,GAAmB,MAANA,GAC5BV,EAAKW,KAAON,EACZL,EAAKF,GAAGA,EACRE,EAAKY,MAAM,OAEXd,KACe,MAANY,IACTV,EAAKI,OAASS,WAAWR,KAIjC,OAAOL,EACP,MAAOc,GACPC,MAAM,gB,2BCzCK,SAASC,EAAaC,GA8BpC,OA7BG,SAASC,EAAOC,GAClB,IAAIb,EAAU,GAEd,GAAGa,EAAKC,eAAe,aAAa,CACnC,IAAIb,EAAY,GAChBY,EAAKZ,UAAUc,SAAQ,SAASC,GAC/B,IAAIC,EAAaL,EAAOI,GACxBf,EAAUC,KAAKe,MAEb,IAAIC,EAAYjB,EAAUkB,OACvBN,EAAKC,eAAe,UACrBd,EAAU,IAAIkB,EAAU,IAAML,EAAKR,MAElCQ,EAAKC,eAAe,YACrBd,EAAUA,EAAU,IAAIa,EAAKf,YAG/B,CACA,IAAIsB,EAAO,GACRP,EAAKC,eAAe,UACrBM,EAAOP,EAAKR,MAEXQ,EAAKC,eAAe,YACrBM,EAAOA,EAAO,IAAIP,EAAKf,QAEzBE,GAAoBoB,EAExB,OAAOpB,EAEDY,CAAOD,GAAO,I,kBC9BP,ICgBR,SAASU,EAAe3B,GAC7B,OAAIA,EAAKO,UACAP,EAAKO,UACTqB,KAAI,SAACN,GACJ,OAAOK,EAAeL,MAEvBO,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAEjB,EAIX,SAASC,EAAUC,GACjB,OAAOA,EAAEC,KAAK9B,QAAU6B,EAAEE,SAAWC,IAAOH,EAAEE,SAAUH,GAAa,GAGvE,SAASK,EAAYJ,EAAGK,EAAIC,GAC1BN,EAAEO,QAAUF,GAAMG,KAAKC,IAAIT,EAAEC,KAAK9B,OAAQ,IAAMmC,EAC5CN,EAAEE,UACJF,EAAEE,SAASd,SAAQ,SAAUY,GAC3BI,EAAYJ,EAAGK,EAAIC,MAkBV,SAASI,EAAKC,GAAQ,IAAD,EAEhC5C,EAWE4C,EAXF5C,KACA6C,EAUED,EAVFC,QAHgC,EAa9BD,EATFE,iBAJgC,MAIpB,aAJoB,IAa9BF,EARFG,iBALgC,MAKpB,aALoB,EAMhCC,EAOEJ,EAPFI,iBACAC,EAMEL,EANFK,OACAC,EAKEN,EALFM,WACAC,EAIEP,EAJFO,eACAC,EAGER,EAHFQ,KACAC,EAEET,EAFFS,WACAC,EACEV,EADFU,uBAGIC,EAAMC,mBAENC,EAAgBD,iBAAO,WAQvBE,EAAY/B,EAAe3B,GAC3B2D,EAA0B,KAAZD,EAAmBP,EACjCS,EAAcD,EAAc,EAC5BE,EACO,aAAXZ,EAAsC,EAAdW,EAA+B,GAAZF,EACvCI,EACO,aAAXb,EAAsC,EAAdW,EAA+B,GAAZF,EAEvCK,EAAoB,aAAXd,EAAwBU,EAA0B,GAAZD,EAAiB,EAChEM,EAAmB,aAAXf,EAAwBW,EAAcF,EAEpD,SAASO,EAAMC,EAAOC,GACpB,IAAK,IAAIhE,EAAI,EAAGA,EAAI+D,EAAM9D,SAAUD,EAAG,CACrC,IAAIiE,EAAMF,EAAM/D,GAChB,GAAIiE,EAAItE,KAAOqE,EAEb,OADAD,EAAMG,OAAOlE,EAAG,IACT,EAET,GAAIiE,EAAI7D,WACF0D,EAAMG,EAAI7D,UAAW4D,GAKvB,OAJ6B,IAAzBC,EAAI7D,UAAUH,gBACTgE,EAAI7D,UACX2D,EAAMG,OAAOlE,EAAG,KAEX,GAKf,SAASmE,EAAaJ,EAAOC,GAC3B,IAAK,IAAIhE,EAAI,EAAGA,EAAI+D,EAAM9D,SAAUD,EAAG,CACrC,IAAIiE,EAAMF,EAAM/D,GAChB,GAAIiE,EAAItE,KAAOqE,EAIb,OAHAD,EAAM/D,GAAGI,UAAUC,KAAK4D,EAAI7D,UAAU,IACtC2D,EAAM/D,GAAGI,UAAUgE,SAEZ,EAET,GAAIH,EAAI7D,UACN,OAAI+D,EAAaF,EAAI7D,UAAW4D,KACD,IAAzBC,EAAI7D,UAAUH,gBAGTgE,EAAI7D,UACX2D,EAAMG,OAAOlE,EAAG,KAEX,IAMf,SAASqE,EAAmBvC,GAC1B,IAAIwC,EAASxC,EAAEwC,OAAOC,SAASxC,KAAKpC,GACpCwE,EAAatE,EAAKO,UAAWkE,GAC7B5B,EAAQ7C,GACR2E,EAAO3E,GAwBT,SAAS4E,EAAW3C,GAClB,IAAIwC,EAASxC,EAAEwC,OAAOC,SAASxC,KAAKpC,GAEpCmE,EAAMjE,EAAKO,UAAWkE,GACtB5B,EAAQ7C,GACR2E,EAAO3E,GAUT,SAAS2E,EAAO3E,GACd,IAAM6E,EAAUzC,MAEb0C,KAAK,CAACf,EAAS,EAAGC,IAClBe,YAAW,SAACjD,EAAGC,GAAJ,OAAU,KAElBiD,EAAO5C,IACApC,GAAM,SAACiC,GAAD,OAAOA,EAAE1B,aACzB0E,KAAI,SAAChD,GAAD,OAAQA,EAAE1B,UAAY,EAAI,KAC9B2E,MACC,SAACpD,EAAGC,GAAJ,OACGD,EAAEqD,MAAQpD,EAAEoD,OAAS/B,GACtBhB,IAAaN,EAAEI,KAAK9B,OAAQ2B,EAAEG,KAAK9B,WAGzCyE,EAAQG,GACR3C,EAAY2C,EAAOA,EAAK9C,KAAK9B,OAAS,EAAIwD,EAAc5B,EAAUgD,IAElEzB,EAAI6B,QAAQC,UAAY,GACxB,IAAMC,EAAMlD,IACFmB,EAAI6B,SACXG,KAAK,cAAe,cACpBA,KAAK,YAAa,IACN,aAAXtC,GACFqC,EAAIC,KACF,YADF,oBAEe3B,EAAc,IAF7B,YAEoCA,EAAc,IAFlD,MAMY0B,EACXE,OAAO,KACPD,KAAK,OAAQ,QACbA,KAAK,UAAU,SAAUtD,GACxB,MAAO,WAERsD,KAAK,eAAgB,QACrBE,UAAU,QACVvD,KAAK8C,EAAKU,SACVjE,KAAK,QACLkE,GAAG,aAAa,SAAU1D,GACzBG,IAAUwD,MAAMC,MAAM,eAAgB,QAEvCF,GAAG,YAAY,SAAU1D,GACxBG,IAAUwD,MAAMC,MAAM,eAAgB,WAEvCF,GAAG,SAAS,SAAU1D,GACrBG,IAAUwD,MAAMC,MAAM,SAAtB,OAAgCpC,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAe2B,YAIhDG,KAAK,UAAW,GAChBM,MAAM,UAAU,SAAU5D,GACzB,OAAOA,EAAE6D,OAAO5D,KAAKtB,SAEtB2E,KAAK,IAAKvC,EAgHb,SAAsBf,GACpB,OAAO8D,EAAS9D,EAAE6D,OAAOpF,EAAGuB,EAAE6D,OAAOtD,OAAQP,EAAEwC,OAAO/D,EAAGuB,EAAEwC,OAAOjC,SAGpE,SAAsBP,GACpB,OAAO8D,EAAS9D,EAAE6D,OAAOpF,EAAGuB,EAAE6D,OAAOE,EAAG/D,EAAEwC,OAAO/D,EAAGuB,EAAEwC,OAAOuB,KAU/D,SAASD,EAASE,EAAIC,EAAIC,EAAIC,GAC5B,GAAe,WAAXnD,EACF,MAAM,IAAN,OAAgB,EAALiD,EAAShD,EAApB,YAAkC+C,EAAlC,YAAwCE,EAAxC,YAAmD,EAALC,EAASlD,GAClD,GAAe,aAAXD,EAAuB,CAChC,IAAMoD,EAAK5D,KAAK6D,IAAKL,GAAOA,EAAK,IAAM,IAAOxD,KAAK8D,IAC7CC,EAAK/D,KAAKgE,IAAIR,GACdS,EAAKjE,KAAK6D,IAAKH,GAAOA,EAAK,IAAM,IAAO1D,KAAK8D,IAC7CI,EAAKlE,KAAKgE,IAAIN,GACpB,MAAM,gBAAN,OACID,EAAKG,EAAKnD,EADd,oCAGIgD,EAAKM,EAAKtD,EAHd,uBAKIiD,IAAOF,EACH,GADJ,2BAGIC,EAHJ,4CAKIA,EALJ,+CAOIC,EAAKF,EAAK,EAAI,EAPlB,2BAQIC,EAAKQ,EAAKxD,EARd,4CAUIgD,EAAKS,EAAKzD,GAflB,oCAkBIkD,EAAKM,EAAKxD,EAlBd,oCAoBIkD,EAAKO,EAAKzD,IAIlB,SAAS0D,EAAYC,GACnB,OAAO,SAAU5E,GACfG,IAAUwD,MAAMkB,QAAQ,gBAAiBD,IA/J7CvB,EACGE,OAAO,KACPD,KAAK,OAAQ,QACbA,KAAK,SAAU,QACfA,KAAK,iBAAkB,OACvBE,UAAU,QACVvD,KACC8C,EAAKU,QAAQqB,QAAO,SAAU9E,GAC5B,OAAQA,EAAEwC,OAAOtC,aAGpB6E,QACAxB,OAAO,QACPD,KAAK,UAAW,GAIhBA,KACC,IACAvC,EAkGJ,SAA+Bf,GAC7B,OAAO8D,EAAS9D,EAAEwC,OAAO/D,EAAGuB,EAAEwC,OAAOjC,OAAQP,EAAEwC,OAAO/D,EAAGuB,EAAEwC,OAAOuB,IAGpE,SAA+B/D,GAC7B,OAAO8D,EAAS9D,EAAEwC,OAAO/D,EAAGuB,EAAEwC,OAAOuB,EAAG/D,EAAEwC,OAAO/D,EAAGuB,EAAEwC,OAAOuB,KArGhD,WAAX/C,GACFqC,EACGG,UAAU,SACVvD,KAAK8C,EAAKiC,eACVxF,KAAK,UACL8D,KAAK,QAAS,QACdA,KAAK,IAAK,GACVA,KAAK,OAAQ,SACbA,KAAK,MAAM,SAACtD,GAAD,OACVe,EAA8B,EAAXf,EAAEO,OAAaU,EAAmB,EAANjB,EAAE+D,EAAQ9C,KAE1DqC,KAAK,MAAM,SAACtD,GAAD,OAAOA,EAAEvB,KACpBiF,GAAG,aAAa,SAAU1D,GACzBG,IAAUwD,MAAML,KAAK,IAAK,MAE3BI,GAAG,YAAY,SAAU1D,GACxBG,IAAUwD,MAAML,KAAK,IAAK,MAE3BI,GAAG,SAAS,SAAU1D,GACrB,OAAQoB,GACN,IAAK,SACHuB,EAAW3C,GACX,MACF,IAAK,OACHuC,EAAmBvC,OASxBsD,KAAK,UAAW,GAChBA,KAAK,UAAW,IACY,IAA3BjC,GACFgC,EACGE,OAAO,KACPC,UAAU,SACVvD,KAAK8C,EAAKiC,eACVxF,KAAK,QACL8D,KAAK,KAAK,SAACtD,GAAD,OACTe,EACe,EAAXf,EAAEO,OAAaU,EAAa,GACtB,EAANjB,EAAE+D,EAAQ9C,EAAa,MAE5BqC,KAAK,KAAK,SAACtD,GAAD,OAAOA,EAAEvB,EAAI,KACvBwG,MAAK,SAACjF,GAAD,OAAQkF,OAAOlF,EAAEC,KAAK9B,SAAW,IAAIgH,QAAQ,KAAM,QACxDzB,GAAG,SAAS,SAAC1D,GACZoF,QAAQC,IAAIrF,MAIlBqD,EACGE,OAAO,KACPC,UAAU,QACVvD,KAAK8C,EAAKuC,UACV9F,KAAK,QACL8D,KAAK,KAAK,SAACtD,GAAD,OAAa,EAANA,EAAE+D,EAAQ9C,EAAa,KACxCqC,KAAK,KAAK,SAACtD,GAAD,OAAOA,EAAEvB,EAAI,KACvBwG,MAAK,SAACjF,GAAD,OAAQA,EAAEC,KAAKvB,MAAQ,IAAIyG,QAAQ,KAAM,QAC9CzB,GAAG,YAAaiB,GAAY,IAC5BjB,GAAG,WAAYiB,GAAY,IAC3BjB,GAAG,SAAS,SAAC1D,GACZoF,QAAQC,IAAIrF,OAEI,aAAXgB,GACTqC,EACGE,OAAO,KACPC,UAAU,QACVvD,KAAK8C,EAAKuC,UACV9F,KAAK,QACL8D,KAAK,KAAM,SACXA,KACC,aACA,SAACtD,GAAD,uBACYA,EAAEvB,EAAI,GADlB,uBAEIkD,EAAcV,EAAa,EAAIA,EAFnC,cAGQjB,EAAEvB,EAAI,IAAM,GAAK,mBAE1B6E,KAAK,eAAe,SAACtD,GAAD,OAAQA,EAAEvB,EAAI,IAAM,QAAU,SAClDwG,MAAK,SAACjF,GAAD,OAAQA,EAAEC,KAAKvB,MAAQ,IAAIyG,QAAQ,KAAM,QAC9CzB,GAAG,YAAaiB,GAAY,IAC5BjB,GAAG,WAAYiB,GAAY,IAC3BjB,GAAG,SAAS,SAAC1D,GACZa,EAAUb,MAxSpB,SAAuB+C,EAAMwC,EAAYC,GACvC,IAAMvF,EAAO,GAEPwF,EAAW,GACjB1C,EAAKuC,SAASlG,SAAQ,SAACY,GACrByF,EAASlH,KAAK,CAAEG,KAAMsB,EAAEC,KAAKvB,KAAMD,EAAGuB,EAAEvB,EAAGsF,EAAG/D,EAAE+D,OAElD9D,EAAI,QAAcwF,EAClBxF,EAAI,WAAiBsF,EAErBC,EAAUvF,GAsVRyF,CAAc3C,EAAkB,GAAZtB,EAAgBX,GAGtC6E,qBAAU,WACRjD,EAAO3E,KACN,CACD8C,EACAC,EACAC,EACAgB,EACAN,EACA1D,EACAiD,EACAc,EACAH,EACAT,EACAC,EACAC,EACAC,IAWF,IAKMuE,EAAmBC,IAAMC,YAAW,SAACnF,EAAOoF,GAAR,OACxC,qBACEzE,IAAKyE,EACLnC,MAAO,CACL7B,MAAOF,EACPC,OAAQF,EACRoE,QAAS,OACTC,cAAe,MACfC,UAAW,MACXC,WAAY,OAEdtI,GAAG,SAVL,SAYE,sBAAKkE,MAAOF,EAAUC,OAAQF,EAAW/D,GAAG,YAA5C,UACE,uBACEuI,wBAAyB,CACvBC,OAAO,mNAUX,mBAAG/E,IAAKA,YAIRgF,EAAe/E,mBAErB,OACE,gCACE,cAAC,IAAD,CACEgF,aAAa,EACbC,QACE,cAAC,IAAD,CACE7H,MAAK,OAAE6C,QAAF,IAAEA,OAAF,EAAEA,EAAeiF,OACtBC,iBAAkB,SAAC/H,GAAD,OA1YH,SAACA,GACxB6C,EAAc2B,QAAUxE,EAAMgI,IAE9B,IADA,IAAIlI,EAAImI,SAASC,uBAAuB,cAC/B3I,EAAI,EAAGA,EAAIO,EAAEN,OAAQD,IAC5BO,EAAEP,GAAG0F,MAAMkD,gBAAkBnI,EAAMgI,IAsYAI,CAAiBpI,MALpD,SASE,wBACEqI,UAAU,6BACVpD,MAAO,CAAEkD,gBAAiB,YAF5B,sBAGS,CACLG,SAAU,WACVC,IAAK,MACLC,QAAS,SACTC,KAAM,UAPV,+CAcF,wBACEC,QAnEN,SAAsBC,GAECvI,EAAahB,IAkE9BwJ,MAAM,gBACNC,cAAY,QACZC,cAAY,WACZ7D,MAAO,CACLqD,SAAU,WACVC,IAAK,MACLC,QAAS,SACTC,KAAM,QAERJ,UAAU,iBAXZ,oBAgBA,8BACE,cAACpB,EAAD,CAAkBtE,IAAKgF,MAGzB,wBACEe,QAAS,kBAAMK,gCAAsBpB,IACrCU,UAAU,gBACVpD,MAAO,CACLqD,SAAU,WACVC,IAAK,MACLC,QAAS,SACTC,KAAM,QAPV,yBAaA,wBACEC,QAAS,kBAAMM,+BAAqBrB,IACpCU,UAAU,gBACVpD,MAAO,CACLqD,SAAU,WACVC,IAAK,MACLC,QAAS,SACTC,KAAM,QAPV,wBAaA,qBAAKQ,MAAM,aAAa/J,GAAG,UAAUgK,KAAK,SAA1C,SACE,qBAAKD,MAAM,eAAX,SACE,sBAAKA,MAAM,gBAAX,UACE,sBAAKA,MAAM,eAAX,UACE,wBAAQE,KAAK,SAASF,MAAM,QAAQG,eAAa,QAAjD,kBAGA,oBAAIH,MAAM,cAAV,8BAEF,qBAAKA,MAAM,aAAX,SACE,4BAAI7I,EAAahB,OAEnB,qBAAK6J,MAAM,eAAX,SACE,wBACEE,KAAK,SACLF,MAAM,kBACNG,eAAa,QAHf,+BAuBdrH,EAAKsH,aAAe,CAClB/H,KAAM,GACNY,UAAW,KACXoH,YAAa,KACbC,qBAAsB,cACtBlH,OAAQ,UC3jBK,UAA0B,mCCA1B,MAA0B,iCCA1B,MAA0B,qCCA1B,MAA0B,yCCA1B,MAA0B,iCCA1B,MAA0B,kCCA1B,MAA0B,yCCA1B,MAA0B,mCCA1B,MAA0B,mCCA1B,MAA0B,mCCA1B,MAA0B,mCCkBnCmH,EACJ,w+BAGa,SAASC,IAAW,IAqD7BC,EArD4B,EACNC,oBAAS,GADH,mBACzBpF,EADyB,KAClBqF,EADkB,OAEED,mBAAS,IAFX,mBAEzBE,EAFyB,KAEdC,EAFc,OAIIH,mBAAS,KAJb,mBAIzBI,EAJyB,KAIbC,EAJa,OAKRL,mBAAS,GALD,mBAKzBnH,EALyB,KAKnByH,EALmB,OAM4BN,oBAAS,GANrC,mBAMzBjH,EANyB,KAMDwH,EANC,OAORP,mBAASQ,EAAYX,IAPb,mBAOzBpK,EAPyB,KAOnB6C,EAPmB,OASJ0H,mBAAS,UATL,mBASzBtH,EATyB,KASjB+H,EATiB,OAWYT,mBAAS,GAXrB,mBAWzBpH,EAXyB,KAWT8H,EAXS,KAY5BC,EAAQ,GAmBNC,EAAS,SAACC,GACd,IAAI1K,EAAImI,SAASwC,iBAAiB,QAClC,GAAU,KAAPD,EACD,IAAK,IAAIjL,EAAI,EAAGA,EAAIO,EAAEN,OAAQD,IACxBO,EAAEP,GAAGmL,YAAYC,SAASH,IAC5B1K,EAAEP,GAAG0F,MAAM2F,KAAO,MAClB9K,EAAEP,GAAG0F,MAAM4F,WAAa,SAExB/K,EAAEP,GAAG0F,MAAM2F,KAAO,OAClB9K,EAAEP,GAAG0F,MAAM4F,WAAa,YAI5B,IAAK,IAAItL,EAAI,EAAGA,EAAIO,EAAEN,OAAQD,IAC1BO,EAAEP,GAAG0F,MAAM2F,KAAO,OAClB9K,EAAEP,GAAG0F,MAAM4F,WAAa,GAI9BpE,QAAQC,IAAIoE,KAlDkB,EAoDQnB,mBAASH,GApDjB,mBAoDzBsB,GApDyB,KAuD1BC,IAvD0B,KAuDT,SAACC,GACtB,IAAMnD,EAAU6B,EAAWuB,OAC3BhJ,EAAQkI,EAAYtC,MAiBtB,OACE,sBACE5C,MAAO,CACLoC,QAAS,OACTlE,OAAQ,IACRmE,cAAe,SACflE,MAAO,OACPmE,UAAU,OANd,UASE,sBAAKc,UAAU,UAAf,UACE,sBAAKA,UAAU,eAAf,UACE,8BACE,uBACEc,KAAK,OACLjK,GAAG,OACHmJ,UAAU,aACV6C,OAAO,OACPC,SAAU,SAACH,GAAD,OA/BII,EA+BoBJ,EAAEnH,OAAOwH,MAAM,IA9B3D3B,EAAa,IAAI4B,YACNC,UAAYR,QACvBrB,EAAW8B,WAAWJ,GAHC,IAACA,OAkClB,wBACE1C,QAAS,kBAAMwB,GAA2BxH,IAC1CkG,MAAM,eAFR,SAIE,qBAAK6C,IAAKC,EAA0BC,IAAI,OAG1C,wBAAQjD,QAAS,kBAAMkB,GAAUrF,IAAQqE,MAAM,mBAA/C,SACE,qBAAK6C,IAAKG,EAAcD,IAAI,OAG9B,wBAAQjD,QAAS,kBAlFJ,WAEnB,IADA,IAAI5I,EAAImI,SAASwC,iBAAiB,QACzBlL,EAAI,EAAGA,EAAIO,EAAEN,OAAQD,IAC5BO,EAAEP,GAAGsM,SA+EsBC,IAAgBlD,MAAM,eAA7C,SACE,qBAAK6C,IAAKM,EAAiBJ,IAAI,OAGjC,wBACEjD,QAAS,kBAAMsB,EAAcD,EAAa,KAC1CnB,MAAM,iBAFR,SAIE,qBAAK6C,IAAKO,EAAmBL,IAAI,OAEnC,wBACEjD,QAAS,kBAAMsB,EAAcD,EAAa,KAC1CnB,MAAM,gBAFR,SAIE,qBAAK6C,IAAKQ,EAAkBN,IAAI,OAGlC,wBAAQjD,QAAS,kBAAMuB,GAAgB,EAARzH,IAAYoG,MAAM,OAAjD,SACE,qBAAK6C,IAAKS,EAAUP,IAAI,OAG1B,wBACEjD,QAAS,WA/GF,WAAXrG,EACF+H,EAAU,aAEVA,EAAU,UACVC,EAAkB,KA4GZzB,MAAkB,WAAXvG,EAAsB,SAAW,WAF1C,SAIc,WAAXA,EACC,qBAAKoJ,IAAKU,EAAYR,IAAI,KAE1B,qBAAKF,IAAKW,EAAUT,IAAI,OAIhB,aAAXtJ,EACC,wBACEqG,QAAS,kBAAM2B,EAAkB9H,EAAiB,KAClDqG,MAAM,aAFR,SAIE,qBAAK6C,IAAKY,EAAUV,IAAI,OAExB,KACQ,aAAXtJ,EACC,wBACEqG,QAAS,kBAAM2B,EAAkB9H,EAAiB,KAClDqG,MAAM,aAFR,SAIE,qBAAK6C,IAAKa,EAAWX,IAAI,OAEzB,QAEN,8BACE,sBAAKtD,UAAU,gBAAf,UACE,uBACEc,KAAK,OACLoD,YAAY,SACZpB,SAAU,SAACH,GAAD,OAnJJ1E,EAmJoB0E,EAAEnH,OAAOU,WAlJ7C+F,EAAQhE,GADO,IAACA,GAoJNkG,WAAY,SAAAC,GACQ,UAAdA,EAAMC,KACRnC,EAAOkC,EAAM5I,OAAOU,UAI1B,wBAAQmE,QAAS,kBAAM6B,EAAOD,IAAQjC,UAAU,aAAhD,SACE,qBAAKoD,IAAKkB,EAAShB,IAAI,eAUzB,cAAC5J,EAAD,CACET,KAAMwJ,GACN1L,KAAMA,EACN6C,QAASA,EACTC,UAAW,SAACb,GACVoF,QAAQC,IAAIrF,IAEdc,UAAW,SAACd,GACVoF,QAAQC,IAAIrF,EAAEuL,UAEhBvK,OAAQA,EACRK,uBAAwBA,EACxBD,WAAW,SACXL,iBAAkBmC,EAClBjC,WAAYyH,EACZxH,eAAgBA,EAChBC,KAAMA,IAKpB,wBACUoG,MAAM,gBACNC,cAAY,QACZC,cAAY,YACZ7D,MAAO,CAACqD,SAAU,WAAYC,IAAK,MAAOC,QAAQ,SAAUC,KAAK,QACjEJ,UAAU,iBALpB,mBAWI,qBAAKY,MAAM,aAAa/J,GAAG,WAAWgK,KAAK,SAA3C,SACI,qBAAKD,MAAM,eAAX,SACE,sBAAKA,MAAM,gBAAX,UACE,sBAAKA,MAAM,eAAX,UACE,wBAAQE,KAAK,SAASF,MAAM,QAAQG,eAAa,QAAjD,kBAGA,oBAAIH,MAAM,cAAV,6BAEF,qBAAKA,MAAM,aAAX,SACE,0BAAUA,MAAM,eAAe/J,GAAG,8BAA8B2N,KAAK,IACjE5H,MAAO,CAAC7B,MAAM,OAAOD,OAAO,KAC5BgG,KAAK,OACLoD,YAAY,eACZpB,SAAU,SAACH,GAAD,OAAOlB,EAAakB,EAAEnH,OAAOU,YAG7C,qBAAK0E,MAAM,eAAX,SACE,wBACEE,KAAK,SACLF,MAAM,kBACNG,eAAa,QACbV,QAAS,kBAtKN,SAAC1J,GAAS,IAAD,EACM,KAAtB,OAALA,QAAK,IAALA,GAAA,UAAAA,EAAOW,iBAAP,eAAkBH,UAAlB,OAAgCR,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAOE,MAAvC,OAA4CF,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAOgB,OACpDiC,EAAQjD,GAEPmB,MAAM,eAkKgB2M,CAAW3C,EAAYN,KAJtC,4B,OC9LCkD,MAvCf,WAEE,OACE,8BA8BE,cAACtD,EAAD,OC1CSuD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1F,SAAS2F,eAAe,SAM1BZ,K","file":"static/js/main.18d743cc.chunk.js","sourcesContent":["// (A:0.1,B:0.2,(C:0.3,D:0.4):0.5);\r\nexport default function parse(s) {\r\n  try {\r\n    let id=1\r\n    const ancestors = []\r\n    let tree = {}\r\n    const tokens = s.split(/\\s*(;|\\(|\\)|,|:)\\s*/)\r\n    for (let i = 0; i < tokens.length; i++) {\r\n      const token = tokens[i]\r\n      const subtree = {}\r\n      switch (token) {\r\n        case '(': // new branchset\r\n          tree.branchset = [subtree]\r\n          ancestors.push(tree)\r\n          tree = subtree\r\n          break\r\n        case ',': // another branch\r\n          ancestors[ancestors.length - 1].branchset.push(subtree)\r\n          tree = subtree\r\n          break\r\n        case ')': // optional name next\r\n          tree = ancestors.pop()\r\n\r\n          break\r\n        case ':': // optional length next\r\n          break\r\n        default:\r\n          const x = tokens[i - 1]\r\n          if (x === ')' || x === '(' || x === ',') {\r\n            tree.name = token\r\n            tree.id=id\r\n            tree.color=\"#000\"\r\n\r\n            id++\r\n          } else if (x === ':') {\r\n            tree.length = parseFloat(token)\r\n          }\r\n      }\r\n    }\r\n    return tree\r\n  } catch (error) {\r\n    alert(\"ERROR INPUT\")\r\n  }\r\n    \r\n  }","export default function jsonToNewick(json) {\r\n    function nested(nest){\r\n\t\tvar subtree = \"\";\r\n\r\n\t\tif(nest.hasOwnProperty('branchset')){\r\n\t\t\tvar branchset = [];\r\n\t\t\tnest.branchset.forEach(function(child){\r\n\t\t\t\tvar subsubtree = nested(child);\r\n\t\t\t\tbranchset.push(subsubtree);\r\n\t\t\t});\r\n      var substring = branchset.join();\r\n      if(nest.hasOwnProperty('name')){\r\n        subtree = \"(\"+substring+\")\" + nest.name;\r\n      }\r\n      if(nest.hasOwnProperty('length')){\r\n        subtree = subtree + \":\"+nest.length;\r\n      }\r\n\t\t}\r\n\t\telse{\r\n      var leaf = \"\";\r\n      if(nest.hasOwnProperty('name')){\r\n        leaf = nest.name;\r\n      }\r\n      if(nest.hasOwnProperty('length')){\r\n        leaf = leaf + \":\"+nest.length;\r\n      }\r\n      subtree = subtree + leaf;\r\n\t\t}\r\n\t\treturn subtree;\r\n\t}\r\n\treturn nested(json) +\";\";\r\n}","export default __webpack_public_path__ + \"static/media/export.0d5da54b.svg\";","import React, { useEffect, useRef, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\nimport parseNewick from \"./newick.js\";\r\nimport { BlockPicker, ChromePicker, GithubPicker } from \"react-color\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { Newick, NewickJS } from \"newick\";\r\nimport jsonToNewick from \"./jsonToNewick.js\";\r\nimport {\r\n  exportComponentAsJPEG,\r\n  exportComponentAsPDF,\r\n  exportComponentAsPNG,\r\n} from \"react-component-export-image\";\r\nimport html2canvas from \"html2canvas\";\r\nimport exportIcon from \"../img/export.svg\";\r\n\r\nexport function CountLeafNodes(tree) {\r\n  if (tree.branchset) {\r\n    return tree.branchset\r\n      .map((child) => {\r\n        return CountLeafNodes(child);\r\n      })\r\n      .reduce((a, b) => a + b);\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\nfunction maxLength(d) {\r\n  return d.data.length + (d.children ? d3.max(d.children, maxLength) : 0);\r\n}\r\n\r\nfunction setBrLength(d, y0, k) {\r\n  d.radius = (y0 += Math.max(d.data.length, 0)) * k;\r\n  if (d.children) {\r\n    d.children.forEach(function (d) {\r\n      setBrLength(d, y0, k);\r\n    });\r\n  }\r\n}\r\n\r\nfunction prepareConfig(root, treeheight, storechFn) {\r\n  const data = {};\r\n\r\n  const leafdata = [];\r\n  root.leaves().forEach((d) => {\r\n    leafdata.push({ name: d.data.name, x: d.x, y: d.y });\r\n  });\r\n  data[\"leafloc\"] = leafdata;\r\n  data[\"treeheight\"] = treeheight;\r\n\r\n  storechFn(data);\r\n}\r\n\r\nexport default function Tree(props) {\r\n  const {\r\n    tree,\r\n    setTree,\r\n    clickName = () => {},\r\n    getConfig = () => {},\r\n    showBranchLength,\r\n    layout,\r\n    Horizontal,\r\n    circularNumber,\r\n    swap,\r\n    selectNode,\r\n    showBranchLengthNumber,\r\n  } = props;\r\n\r\n  const ref = useRef();\r\n\r\n  const selectedColor = useRef(\"#1273dE\");\r\n  const setSelectedColor = (color) => {\r\n    selectedColor.current = color.hex;\r\n    var x = document.getElementsByClassName(\"ref-button\");\r\n    for (let i = 0; i < x.length; i++) {\r\n      x[i].style.backgroundColor = color.hex;\r\n    }\r\n  };\r\n  const leafNodes = CountLeafNodes(tree);\r\n  const outerRadius = leafNodes * 3.77 * circularNumber;\r\n  const innerRadius = outerRadius / 4;\r\n  const svgHeight =\r\n    layout === \"circular\" ? innerRadius * 2  : leafNodes * 20;\r\n  const svgWidth =\r\n    layout === \"circular\" ? innerRadius * 2  : leafNodes * 30  ; //360 for extra area to vis text\r\n\r\n  const height = layout === \"circular\" ? outerRadius : leafNodes * 20 * 2;\r\n  const width = layout === \"circular\" ? innerRadius : leafNodes;\r\n\r\n  function prune(array, label) {\r\n    for (var i = 0; i < array.length; ++i) {\r\n      var obj = array[i];\r\n      if (obj.id === label) {\r\n        array.splice(i, 1);\r\n        return true;\r\n      }\r\n      if (obj.branchset) {\r\n        if (prune(obj.branchset, label)) {\r\n          if (obj.branchset.length === 0) {\r\n            delete obj.branchset;\r\n            array.splice(i, 1);\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  function swapNodeChid(array, label) {\r\n    for (var i = 0; i < array.length; ++i) {\r\n      var obj = array[i];\r\n      if (obj.id === label) {\r\n        array[i].branchset.push(obj.branchset[0]);\r\n        array[i].branchset.shift();\r\n        // array.splice(i, 1);\r\n        return true;\r\n      }\r\n      if (obj.branchset) {\r\n        if (swapNodeChid(obj.branchset, label)) {\r\n          if (obj.branchset.length === 0) {\r\n            // array[i].branchset.push(obj.branchset[0])\r\n            // array[i].branchset.shift()\r\n            delete obj.branchset;\r\n            array.splice(i, 1);\r\n          }\r\n          return true;\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  function swapNodeChidUpdate(d) {\r\n    var target = d.target.__data__.data.id;\r\n    swapNodeChid(tree.branchset, target);\r\n    setTree(tree);\r\n    update(tree);\r\n  }\r\n  function changeColor(array, label) {\r\n    for (var i = 0; i < array.length; ++i) {\r\n      var obj = array[i];\r\n      if (obj.id === label) {\r\n        if (changeColor(obj.branchset, label)) {\r\n          if (obj.branchset.length === 0) {\r\n            array[i].color = selectedColor;\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n      if (obj.branchset) {\r\n        if (changeColor(obj.branchset, label)) {\r\n          if (obj.branchset.length === 0) {\r\n            array[i].color = selectedColor;\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function removeNode(d) {\r\n    var target = d.target.__data__.data.id;\r\n\r\n    prune(tree.branchset, target);\r\n    setTree(tree);\r\n    update(tree);\r\n  }\r\n  function updateColor(d) {\r\n    var target = d.target.__data__.source.data.id;\r\n    changeColor(tree.branchset, target);\r\n    setTree(tree);\r\n\r\n    update(tree);\r\n  }\r\n\r\n  function update(tree) {\r\n    const cluster = d3\r\n      .cluster()\r\n      .size([height / 2, width])\r\n      .separation((a, b) => 1);\r\n\r\n    const root = d3\r\n      .hierarchy(tree, (d) => d.branchset)\r\n      .sum((d) => (d.branchset ? 0 : 1))\r\n      .sort(\r\n        (a, b) =>\r\n          (a.value - b.value) * swap ||\r\n          d3.ascending(a.data.length, b.data.length)\r\n      );\r\n\r\n    cluster(root);\r\n    setBrLength(root, (root.data.length = 0), innerRadius / maxLength(root));\r\n\r\n    ref.current.innerHTML = \"\";\r\n    const svg = d3\r\n      .select(ref.current)\r\n      .attr(\"font-family\", \"sans-serif\")\r\n      .attr(\"font-size\", 10);\r\n    if (layout === \"circular\") {\r\n      svg.attr(\r\n        \"transform\",\r\n        `translate(${innerRadius + 180},${innerRadius + 180})`\r\n      );\r\n    }\r\n\r\n    const links = svg\r\n      .append(\"g\")\r\n      .attr(\"fill\", \"none\")\r\n      .attr(\"stroke\", function (d) {\r\n        return \"#ffff\";\r\n      })\r\n      .attr(\"stroke-width\", \"1.75\")\r\n      .selectAll(\"path\")\r\n      .data(root.links())\r\n      .join(\"path\")\r\n      .on(\"mouseover\", function (d) {\r\n        d3.select(this).style(\"stroke-width\", \"5\");\r\n      })\r\n      .on(\"mouseout\", function (d) {\r\n        d3.select(this).style(\"stroke-width\", \"1.75\");\r\n      })\r\n      .on(\"click\", function (d) {\r\n        d3.select(this).style(\"stroke\", selectedColor?.current);\r\n        // console.log(d)\r\n        // updateColor(d)\r\n      })\r\n      .attr(\"opacity\", 1)\r\n      .style(\"stroke\", function (d) {\r\n        return d.source.data.color;\r\n      })\r\n      .attr(\"d\", showBranchLength ? linkVariable : linkConstant);\r\n\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"fill\", \"none\")\r\n      .attr(\"stroke\", \"#000\")\r\n      .attr(\"stroke-opacity\", \"0.2\")\r\n      .selectAll(\"path\")\r\n      .data(\r\n        root.links().filter(function (d) {\r\n          return !d.target.children;\r\n        })\r\n      )\r\n      .enter()\r\n      .append(\"path\")\r\n      .attr(\"opacity\", 1)\r\n      // .each(function (d) {\r\n      //   d.target.linkExtensionNode = this\r\n      // })\r\n      .attr(\r\n        \"d\",\r\n        showBranchLength ? linkExtensionVariable : linkExtensionConstant\r\n      );\r\n    if (layout === \"linear\") {\r\n      svg\r\n        .selectAll(\".node\")\r\n        .data(root.descendants())\r\n        .join(\"circle\")\r\n        .attr(\"class\", \"node\")\r\n        .attr(\"r\", 4)\r\n        .attr(\"fill\", \"black\")\r\n        .attr(\"cx\", (d) =>\r\n          showBranchLength ? d.radius * 5 * Horizontal : d.y * 5 * Horizontal\r\n        )\r\n        .attr(\"cy\", (d) => d.x)\r\n        .on(\"mouseover\", function (d) {\r\n          d3.select(this).attr(\"r\", 7);\r\n        })\r\n        .on(\"mouseout\", function (d) {\r\n          d3.select(this).attr(\"r\", 4);\r\n        })\r\n        .on(\"click\", function (d) {\r\n          switch (selectNode) {\r\n            case \"delete\":\r\n              removeNode(d);\r\n              break;\r\n            case \"swap\":\r\n              swapNodeChidUpdate(d);\r\n              break;\r\n            default:\r\n            // code block\r\n          }\r\n\r\n          // console.log(d.target.__data__.data.id)\r\n          // d3.select(this).attr(\"pointer-events\", \"none\");\r\n        })\r\n        .attr(\"opacity\", 0)\r\n        .attr(\"opacity\", 1);\r\n      if (showBranchLengthNumber === true) {\r\n        svg\r\n          .append(\"g\")\r\n          .selectAll(\"text2\")\r\n          .data(root.descendants())\r\n          .join(\"text\")\r\n          .attr(\"x\", (d) =>\r\n            showBranchLength\r\n              ? d.radius * 5 * Horizontal - 50\r\n              : d.y * 5 * Horizontal - 50\r\n          )\r\n          .attr(\"y\", (d) => d.x - 4)\r\n          .text((d) => (String(d.data.length) || \"\").replace(/_/g, \" \"))\r\n          .on(\"click\", (d) => {\r\n            console.log(d);\r\n          });\r\n      }\r\n\r\n      svg\r\n        .append(\"g\")\r\n        .selectAll(\"text\")\r\n        .data(root.leaves())\r\n        .join(\"text\")\r\n        .attr(\"x\", (d) => d.y * 5 * Horizontal + 5)\r\n        .attr(\"y\", (d) => d.x + 4)\r\n        .text((d) => (d.data.name || \"\").replace(/_/g, \" \"))\r\n        .on(\"mouseover\", mouseovered(true))\r\n        .on(\"mouseout\", mouseovered(false))\r\n        .on(\"click\", (d) => {\r\n          console.log(d);\r\n        });\r\n    } else if (layout === \"circular\") {\r\n      svg\r\n        .append(\"g\")\r\n        .selectAll(\"text\")\r\n        .data(root.leaves())\r\n        .join(\"text\")\r\n        .attr(\"dy\", \".31em\")\r\n        .attr(\r\n          \"transform\",\r\n          (d) =>\r\n            `rotate(${d.x - 90}) translate(${\r\n              innerRadius * Horizontal + 4 * Horizontal\r\n            },0)${d.x < 180 ? \"\" : \" rotate(180)\"}`\r\n        )\r\n        .attr(\"text-anchor\", (d) => (d.x < 180 ? \"start\" : \"end\"))\r\n        .text((d) => (d.data.name || \"\").replace(/_/g, \" \"))\r\n        .on(\"mouseover\", mouseovered(true))\r\n        .on(\"mouseout\", mouseovered(false))\r\n        .on(\"click\", (d) => {\r\n          clickName(d);\r\n        });\r\n    }\r\n\r\n    function linkVariable(d) {\r\n      return linkStep(d.source.x, d.source.radius, d.target.x, d.target.radius);\r\n    }\r\n\r\n    function linkConstant(d) {\r\n      return linkStep(d.source.x, d.source.y, d.target.x, d.target.y);\r\n    }\r\n    function linkExtensionVariable(d) {\r\n      return linkStep(d.target.x, d.target.radius, d.target.x, d.target.y);\r\n    }\r\n\r\n    function linkExtensionConstant(d) {\r\n      return linkStep(d.target.x, d.target.y, d.target.x, d.target.y);\r\n    }\r\n\r\n    function linkStep(sx, sy, tx, ty) {\r\n      if (layout === \"linear\") {\r\n        return `M${sy * 5 * Horizontal} ${sx}V${tx}H${ty * 5 * Horizontal}`;\r\n      } else if (layout === \"circular\") {\r\n        const c0 = Math.cos((sx = ((sx - 90) / 180) * Math.PI));\r\n        const s0 = Math.sin(sx);\r\n        const c1 = Math.cos((tx = ((tx - 90) / 180) * Math.PI));\r\n        const s1 = Math.sin(tx);\r\n        return `M\r\n          ${sy * c0 * Horizontal}\r\n          ,\r\n          ${sy * s0 * Horizontal}\r\n          ${\r\n            tx === sx\r\n              ? \"\"\r\n              : `A\r\n              ${sy}\r\n              ,\r\n              ${sy}\r\n               0 0\r\n              ${tx > sx ? 1 : 0}\r\n              ${sy * c1 * Horizontal}\r\n              ,\r\n              ${sy * s1 * Horizontal}`\r\n          }\r\n          L\r\n          ${ty * c1 * Horizontal}\r\n          ,\r\n          ${ty * s1 * Horizontal}`;\r\n      }\r\n    }\r\n\r\n    function mouseovered(active) {\r\n      return function (d) {\r\n        d3.select(this).classed(\"label--active\", active);\r\n      };\r\n    }\r\n    prepareConfig(root, leafNodes * 20, getConfig);\r\n  }\r\n\r\n  useEffect(() => {\r\n    update(tree);\r\n  }, [\r\n    clickName,\r\n    getConfig,\r\n    showBranchLength,\r\n    width,\r\n    leafNodes,\r\n    tree,\r\n    layout,\r\n    height,\r\n    innerRadius,\r\n    circularNumber,\r\n    swap,\r\n    selectNode,\r\n    showBranchLengthNumber,\r\n  ]);\r\n  function dowloadImage(params) {\r\n    // var canvas = document.getElementById(\"svg-chart\");\r\n    // var img    = canvas.toDataURL(\"image/png\");\r\n    // document.write('<img src=\"'+img+'\"/>');\r\n  }\r\n  function exportNewick(params) {\r\n    // var serializedTree = exportNewick.serialize(tree)\r\n    var serializedTree = jsonToNewick(tree);\r\n  }\r\n  const download = () => {\r\n    html2canvas(document.querySelector(\"#widget\")).then((canvas) => {\r\n      document.body.appendChild(canvas);\r\n    });\r\n  };\r\n  const ComponentToPrint = React.forwardRef((props, ref2) => (\r\n    <div\r\n      ref={ref2}\r\n      style={{\r\n        width: svgWidth,\r\n        height: svgHeight,\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        marginTop: \"4em\",\r\n        marginLeft: \"5em\",\r\n      }}\r\n      id=\"widget\"\r\n    >\r\n      <svg width={svgWidth} height={svgHeight} id=\"svg-chart\">\r\n        <style\r\n          dangerouslySetInnerHTML={{\r\n            __html: `\r\n            .link--active {\r\n                stroke: #000 !important;\r\n                stroke-width: 1.5px;\r\n            }\r\n            .label--active {\r\n                font-weight: bold;\r\n            }`,\r\n          }}\r\n        />\r\n        <g ref={ref}></g>\r\n      </svg>\r\n    </div>\r\n  ));\r\n  const componentRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      <Tippy\r\n        interactive={true}\r\n        content={\r\n          <GithubPicker\r\n            color={selectedColor?.curent}\r\n            onChangeComplete={(color) => setSelectedColor(color)}\r\n          />\r\n        }\r\n      >\r\n        <div\r\n          className=\"ref-button btn btn-primary\"\r\n          style={{ backgroundColor: \"#1273DE\" }}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"1em\",\r\n            outline: \"hidden\",\r\n            left: \"3.5em\",\r\n          }}\r\n        >\r\n          Color Branch\r\n        </div>\r\n      </Tippy>\r\n\r\n      <button\r\n        onClick={exportNewick}\r\n        title=\"export newick\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#myModal\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"1em\",\r\n          outline: \"hidden\",\r\n          left: \"20em\",\r\n        }}\r\n        className=\"btn btn-light \"\r\n      >\r\n        Export\r\n      </button>\r\n\r\n      <div>\r\n        <ComponentToPrint ref={componentRef} />\r\n      </div>\r\n\r\n      <button\r\n        onClick={() => exportComponentAsJPEG(componentRef)}\r\n        className=\"btn btn-light\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"1em\",\r\n          outline: \"hidden\",\r\n          left: \"28em\",\r\n        }}\r\n      >\r\n        Export JPEG\r\n      </button>\r\n\r\n      <button\r\n        onClick={() => exportComponentAsPNG(componentRef)}\r\n        className=\"btn btn-light\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"1em\",\r\n          outline: \"hidden\",\r\n          left: \"36em\",\r\n        }}\r\n      >\r\n        Export PNG\r\n      </button>\r\n\r\n      <div class=\"modal fade\" id=\"myModal\" role=\"dialog\">\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n              <h4 class=\"modal-title\">Export Newick</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <p>{jsonToNewick(tree)}</p>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-default\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nTree.propTypes = {\r\n  data: PropTypes.string,\r\n  clickName: PropTypes.func,\r\n  getChildLoc: PropTypes.func,\r\n  ChangebranchLengthID: PropTypes.string,\r\n  layout: PropTypes.string,\r\n};\r\n\r\nTree.defaultProps = {\r\n  data: \"\",\r\n  clickName: null,\r\n  getChildLoc: null,\r\n  ChangebranchLengthID: \"notpossible\",\r\n  layout: \"linear\",\r\n};\r\n","export default __webpack_public_path__ + \"static/media/search.387f749f.svg\";","export default __webpack_public_path__ + \"static/media/icon.77718f6f.svg\";","export default __webpack_public_path__ + \"static/media/noBranch.17b8ebca.svg\";","export default __webpack_public_path__ + \"static/media/horizontalIn.79a18ee4.svg\";","export default __webpack_public_path__ + \"static/media/plus.2c659a77.svg\";","export default __webpack_public_path__ + \"static/media/minus.2f3baf34.svg\";","export default __webpack_public_path__ + \"static/media/branchLength.3248179c.svg\";","export default __webpack_public_path__ + \"static/media/hidden.c32a28bd.svg\";","export default __webpack_public_path__ + \"static/media/arrows.90841d5e.svg\";","export default __webpack_public_path__ + \"static/media/arrow2.2ebbe9be.svg\";","export default __webpack_public_path__ + \"static/media/cricle.2c56cb1b.svg\";","import React, { useEffect, useRef, useState } from \"react\";\r\nimport Tree from \"./Tree\";\r\nimport TreeCircular from \"./TreeCircular\";\r\nimport imgIcon from \"../img/search.svg\";\r\nimport treeIcon from \"../img/icon.svg\";\r\nimport noBranchIcon from \"../img/noBranch.svg\";\r\nimport horizontalInIcon from \"../img/horizontalIn.svg\";\r\nimport plusIcon from \"../img/plus.svg\";\r\nimport minusIcon from \"../img/minus.svg\";\r\n\r\nimport treeShowBranchlengthIcon from \"../img/branchLength.svg\";\r\n\r\nimport hiddenLeaveIcon from \"../img/hidden.svg\";\r\nimport swapIcon from \"../img/arrows.svg\";\r\nimport horizontalOutIcon from \"../img/arrow2.svg\";\r\nimport cricleIcon from \"../img/cricle.svg\";\r\nimport parseNewick from \"./newick.js\";\r\n\r\nconst data2 =\r\n  \"(((EELA:0.150276,CONGERA:0.213019):0.230956,(EELB:0.263487,CONGERB:0.202633):0.246917):0.094785,((CAVEFISH:0.451027,(GOLDFISH:0.340495,ZEBRAFISH:0.390163):0.220565):0.067778,((((((NSAM:0.008113,NARG:0.014065):0.052991,SPUN:0.061003,(SMIC:0.027806,SDIA:0.015298,SXAN:0.046873):0.046977):0.009822,(NAUR:0.081298,(SSPI:0.023876,STIE:0.013652):0.058179):0.091775):0.073346,(MVIO:0.012271,MBER:0.039798):0.178835):0.147992,((BFNKILLIFISH:0.317455,(ONIL:0.029217,XCAU:0.084388):0.201166):0.055908,THORNYHEAD:0.252481):0.061905):0.157214,LAMPFISH:0.717196,((SCABBARDA:0.189684,SCABBARDB:0.362015):0.282263,((VIPERFISH:0.318217,BLACKDRAGON:0.109912):0.123642,LOOSEJAW:0.397100):0.287152):0.140663):0.206729):0.222485,(COELACANTH:0.558103,((CLAWEDFROG:0.441842,SALAMANDER:0.299607):0.135307,((CHAMELEON:0.771665,((PIGEON:0.150909,CHICKEN:0.172733):0.082163,ZEBRAFINCH:0.099172):0.272338):0.014055,((BOVINE:0.167569,DOLPHIN:0.157450):0.104783,ELEPHANT:0.166557):0.367205):0.050892):0.114731):0.295021)myroot\";\r\nconst data3 =\r\n  \"(LngfishAu:0.1712920518,(LngfishSA:0.1886950015,LngfishAf:0.1650939272):0.1074934723,(Frog:0.2567782559,((((Turtle:0.2218655584,(Crocodile:0.3063185169,Bird:0.2314909181):0.0651737381):0.0365470299,Sphenodon:0.3453327943):0.0204990607,Lizard:0.3867277545):0.0740995375,(((Human:0.1853482056,(Seal:0.0945218205,(Cow:0.0823893414,Whale:0.1013456886):0.0404741864):0.0252648881):0.0341157851,(Mouse:0.0584468890,Rat:0.0906222037):0.1219452651):0.0608099176,(Platypus:0.1922418336,Opossum:0.1511451490):0.0373121980):0.1493323365):0.1276903176):0.0942232386);\";\r\nexport default function AppTree() {\r\n  const [value, setValue] = useState(true);\r\n  const [inputData, setInputData] = useState(\"\");\r\n\r\n  const [horizontal, setHorizontal] = useState(1.1);\r\n  const [swap, setSwap] = useState(1);\r\n  const [showBranchLengthNumber, setShowBranchLengthNumber] = useState(true);\r\n  const [tree, setTree] = useState(parseNewick(data2));\r\n  \r\n  const [layout, setLayout] = useState(\"linear\");\r\n\r\n  const [circularNumber, setCircularNumber] = useState(1);\r\n  let fname = \"\";\r\n  const setfName = (text) => {\r\n    fname = text;\r\n  };\r\n  const changeLayout = () => {\r\n    if (layout === \"linear\") {\r\n      setLayout(\"circular\");\r\n    } else {\r\n      setLayout(\"linear\");\r\n      setCircularNumber(1);\r\n    }\r\n  };\r\n  const hiddenLeaves = () => {\r\n    var x = document.querySelectorAll(\"text\");\r\n    for (let i = 0; i < x.length; i++) {\r\n      x[i].remove();\r\n    }\r\n  };\r\n\r\n  const search = (txt) => {\r\n    var x = document.querySelectorAll(\"text\");\r\n    if(txt !==\"\"){\r\n      for (let i = 0; i < x.length; i++) {\r\n        if (x[i].textContent.includes(txt) ) {\r\n          x[i].style.fill = \"red\";\r\n          x[i].style.fontWeight = \"bold\";\r\n        } else {\r\n          x[i].style.fill = \"#000\";\r\n          x[i].style.fontWeight = \"100\";\r\n        }\r\n      }\r\n    }else {\r\n      for (let i = 0; i < x.length; i++) {\r\n          x[i].style.fill = \"#000\";\r\n          x[i].style.fontWeight = \"\"; \r\n      }  \r\n    }\r\n    \r\n    console.log(selectedFile);\r\n  };\r\n  const [selectedFile, setSelectedFile] = useState(data2);\r\n  let fileReader;\r\n \r\n  const handleFileRead = (e) => {\r\n    const content = fileReader.result;\r\n    setTree(parseNewick(content));\r\n    // setSelectedFile(content)\r\n    // … do something with the 'content' …\r\n  };\r\n  const handleFileChosen = (file) => {\r\n    fileReader = new FileReader();\r\n    fileReader.onloadend = handleFileRead;\r\n    fileReader.readAsText(file);\r\n  };\r\n  const createTree=(parse)=>{\r\n    if(parse?.branchset?.length!==0 && parse?.id &&parse?.color){\r\n      setTree(parse)\r\n    }else{\r\n       alert(\"ERROR Input\")\r\n    }\r\n  }\r\n \r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        height: 500,\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        marginTop:\"4em\"\r\n      }}\r\n    >\r\n      <div className=\"btn-bar\">\r\n        <div className=\"btn-left-bar\">\r\n          <div>\r\n            <input\r\n              type=\"file\"\r\n              id=\"file\"\r\n              className=\"input-file\"\r\n              accept=\".csv\"\r\n              onChange={(e) => handleFileChosen(e.target.files[0])}\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={() => setShowBranchLengthNumber(!showBranchLengthNumber)}\r\n            title=\"BranchNumber\"\r\n          >\r\n            <img src={treeShowBranchlengthIcon} alt=\"\" />\r\n          </button>\r\n\r\n          <button onClick={() => setValue(!value)} title=\"No Branch Length\">\r\n            <img src={noBranchIcon} alt=\"\" />\r\n          </button>\r\n\r\n          <button onClick={() => hiddenLeaves()} title=\"hiddenLeaves\">\r\n            <img src={hiddenLeaveIcon} alt=\"\" />\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setHorizontal(horizontal + 0.1)}\r\n            title=\"horizontal Out\"\r\n          >\r\n            <img src={horizontalOutIcon} alt=\"\" />\r\n          </button>\r\n          <button\r\n            onClick={() => setHorizontal(horizontal - 0.1)}\r\n            title=\"horizontal In\"\r\n          >\r\n            <img src={horizontalInIcon} alt=\"\" />\r\n          </button>\r\n\r\n          <button onClick={() => setSwap(swap * -1)} title=\"swap\">\r\n            <img src={swapIcon} alt=\"\" />\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => changeLayout()}\r\n            title={layout === \"linear\" ? \"linear\" : \"circular\"}\r\n          >\r\n            {layout === \"linear\" ? (\r\n              <img src={cricleIcon} alt=\"\" />\r\n            ) : (\r\n              <img src={treeIcon} alt=\"\" />\r\n            )}\r\n          </button>\r\n\r\n          {layout === \"circular\" ? (\r\n            <button\r\n              onClick={() => setCircularNumber(circularNumber + 0.5)}\r\n              title=\"fix cricle\"\r\n            >\r\n              <img src={plusIcon} alt=\"\" />\r\n            </button>\r\n          ) : null}\r\n          {layout === \"circular\" ? (\r\n            <button\r\n              onClick={() => setCircularNumber(circularNumber - 0.5)}\r\n              title=\"fix cricle\"\r\n            >\r\n              <img src={minusIcon} alt=\"\" />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n        <div>\r\n          <div className=\"search-leaves\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"search\"\r\n              onChange={(e) => setfName(e.target.value)}\r\n              onKeyPress={event => {\r\n                if (event.key === 'Enter') {\r\n                  search(event.target.value)\r\n                }\r\n              }}\r\n            />\r\n            <button onClick={() => search(fname)} className=\"btn-search\">\r\n              <img src={imgIcon} alt=\"\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        \r\n      </div>\r\n            <Tree\r\n              data={selectedFile }\r\n              tree={tree}\r\n              setTree={setTree}\r\n              clickName={(d) => {\r\n                console.log(d);\r\n              }}\r\n              getConfig={(d) => {\r\n                console.log(d.leafloc);\r\n              }}\r\n              layout={layout}\r\n              showBranchLengthNumber={showBranchLengthNumber}\r\n              selectNode=\"delete\"\r\n              showBranchLength={value}\r\n              Horizontal={horizontal}\r\n              circularNumber={circularNumber}\r\n              swap={swap}\r\n            /> \r\n            \r\n      \r\n\r\n<button\r\n          title=\"export newick\"\r\n          data-toggle=\"modal\"\r\n          data-target=\"#myModal2\"\r\n          style={{position: \"absolute\", top: \"1em\", outline:\"hidden\" ,left:\"12em\"}}\r\n          className=\"btn btn-light \"\r\n        >\r\n          Input\r\n        </button>\r\n\r\n\r\n    <div class=\"modal fade\" id=\"myModal2\" role=\"dialog\">\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n              <h4 class=\"modal-title\">Input Newick</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"\r\n                  style={{width:\"100%\",height:400}}\r\n                  type=\"text\"\r\n                  placeholder=\"Input Newick\"\r\n                  onChange={(e) => setInputData(e.target.value)}\r\n                />\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-default\"\r\n                data-dismiss=\"modal\"\r\n                onClick={()=>createTree(parseNewick(inputData))}\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  select,\r\n  line,\r\n  curveCardinal,\r\n  axisBottom,\r\n  scaleLinear,\r\n  axisRight,\r\n  scaleBand,\r\n} from \"d3\";\r\nimport BarChart from \"./BarChart\";\r\nimport GaugeChart from \"./chart/gauChart/GaugeChart\";\r\n// import ml5 from \"ml5\";\r\nimport useInterval from \"./chart/gauChart/useInterval\";\r\nimport AppSupport from \"./Tree/AppSupport\";\r\nimport AppTree from \"./Phylo/AppTree\";\r\nimport PhylotreeView from \"./PhylotreeForder/PhylotreeView\";\r\n\r\nlet classifier;\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n    <div>\r\n    {/* <BarChart data={data} setData={setData}/>\r\n\r\n      <button onClick={() => setData(data.map((value) => value + 5))}>\r\n        Update data\r\n      </button>\r\n\r\n      <button\r\n        onClick={() => setData([...data, Math.round(Math.random() * 100)])}\r\n      >\r\n        Add data\r\n      </button> */}\r\n      {/* <h1>\r\n        Is Muri there? <br />\r\n        <small>\r\n          [{gaugeData[0].toFixed(2)}, {gaugeData[1].toFixed(2)}]\r\n        </small>\r\n      </h1>\r\n      <GaugeChart data={gaugeData} />\r\n      <button onClick={() => setShouldClassify(!shouldClassify)}>\r\n        {shouldClassify ? \"Stop classifying\" : \"Start classifying\"}\r\n      </button>\r\n      <video\r\n        ref={videoRef}\r\n        style={{ transform: \"scale(-1, 1)\" }}\r\n        width=\"300\"\r\n        height=\"150\"\r\n      /> */}\r\n      {/* <Phylotree/> */}\r\n      {/* <AppSupport/> */}\r\n      <AppTree/>\r\n      {/* <PhylotreeView/> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport \"./scss/index.scss\"\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}